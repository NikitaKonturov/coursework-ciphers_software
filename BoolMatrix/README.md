# README.md

## Описание проекта BoolMatrix

Этот проект реализует класс `BoolMatrix` на языке C++ для работы с булевыми матрицами. Класс предоставляет функциональность для создания, манипуляции и выполнения различных операций с матрицами, а также их применения для шифрования и расшифровки строк.

### 1) Что реализовано

Класс `BoolMatrix` включает следующие основные возможности:

- **Конструкторы**: Предусмотрено несколько вариантов инициализации булевой матрицы:
  - **Конструктор по умолчанию**: Инициализирует пустую матрицу.
  - **Конструктор с указанием размера**: Создает матрицу размера `2*n`, где `n` — передаваемое значение.
  - **Конструктор на основе вектора**: Инициализирует матрицу на основе вектора векторов булевых значений.
  - **Конструктор копирования**: Создает копию существующей матрицы.
  - **Конструктор на основе строки**: Инициализирует матрицу из строки, содержащей последовательность '0' и '1', длина которой является квадратом целого числа (например, "0010001000101").
  
- **Деструктор**: Удаляет матрицу.

- **Основные методы**:
  - **`check()`**: Проверяет корректность матрицы (отсутствие пересечений в структуре матрицы Кордано).
  - **`rotation()`**: Поворачивает матрицу на 90° по часовой стрелке.
  - **`decryption()`**: Применяет матрицу для расшифровки строки.
  - **`encryption()`**: Применяет матрицу для шифрования строки.

- **Перегрузка операторов**:
  - Оператор индексации `[]` для доступа к элементам матрицы.
  - Операторы ввода/вывода `<<` и `>>` для вывода и ввода матрицы через стандартные потоки.

### 2) Как это работает

- **Создание матрицы**: Матрица может быть создана с помощью одного из конструкторов, либо на основе вектора векторов, строки или копирования другой матрицы.
  
- **Проверка матрицы**: Метод `check()` проверяет корректность матрицы, включая проверку на пересечения в матрице Кордано.

- **Поворот матрицы**: Метод `rotation()` поворачивает матрицу на 90° по часовой стрелке(1-я строка становится последним столбиком матрицы, вторая строка становиться предпоследним столбцом и т.д.)

- **Шифрование и расшифровка**: Методы `encryption()` и `decryption()` используют матрицу для шифрования и расшифровки строк. Для каждой строки создается блок, который затем модифицируется в соответствии с текущей матрицей. Расшифрование и зашифрование **работает только тогда, когда длинна передаваемой строки кратно n^2, где n длина стороны матрицы.** 

### 3) Что нужно доработать

1. **Обработка ошибок**: Добавить более информативные сообщения об ошибках в случае некорректных входных данных, например, если строка для инициализации матрицы имеет неверный формат.
  
2. **Оптимизация**: Рассмотреть возможность оптимизации методов шифрования и расшифровки для повышения производительности.

### 4) Условия работы функций

- **Конструкторы**:
  - Конструктор на основе строки принимает строку, длина которой является квадратом целого числа, то есть её длина должна быть `n^2` (где `n` — сторона матрицы).
  - Конструктор с вектором ожидает двухмерный вектор булевых значений.

- **`check()`**:
  - Проверяет корректность матрицы в контексте структуры Кордано. В случае нахождения пересечений выбрасывает исключение.

- **`encryption()` и `decryption()`**:
  - Строки, передаваемые в эти функции, должны быть кратны квадрату размера матрицы.

- **`rotation()`**:
  - Поворачивает матрицу на 90° по часовой стрелке.

### 5) Где выбрасываются ошибки

1. **`check()`**:
   - Если в матрице Кордано обнаружены пересечения, выбрасывается исключение:
     ```cpp
     throw InvalidKey("Intersections detected in the Cordano lattice!!!");
     ```

2. **`rotation()`**:
   - Ошибки не выбрасываются, но операция изменяет матрицу на месте.

3. **`encryption()` и `decryption()`**:
   - Если длина строки не кратна квадрату размера матрицы, выбрасывается исключение:
     ```cpp
     throw InvalidOpenText("The length of the text is not a multiple of the square of the matrix side!!!");
     ```

4. **Конструкторы**:
   - Если строка для инициализации не является квадратом числа, выбрасывается исключение:
     ```cpp
     throw InvalidKey("Invalid line size. The length of the string must be the square of the number!!!");
     ```